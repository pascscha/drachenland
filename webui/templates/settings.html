{% extends "base.html" %}
{% block title %}Settings{% endblock %}
{% block page_title %}Setup Connections{% endblock %}
{% include 'partials/header.html' %}

{% block content %}
<style>
    .settings-container { max-width: 900px; margin: auto; padding: 20px; }
    .config-section { background-color: var(--card-background); border-radius: 8px; padding: 20px; margin-bottom: 20px; }
    .config-section h2 { margin-top: 0; border-bottom: 1px solid var(--accent-color); padding-bottom: 10px; }
    .pin-config-item { border: 1px solid #444; border-radius: 5px; padding: 15px; margin-bottom: 15px; display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px 20px; }
    .pin-config-item label { display: flex; align-items: center; justify-content: space-between; }
    .pin-config-item input { width: 60%; background-color: #555; border: 1px solid #666; color: white; padding: 5px; border-radius: 3px; }
    .pin-config-item input[type="checkbox"] { width: auto; }
    .pin-header { grid-column: 1 / -1; display: flex; justify-content: space-between; align-items: center; }
    .pin-header h4 { margin: 0; display: flex; align-items: center; gap: 10px; }
    .pin-header input { width: 80px; }
    .add-btn, .remove-btn { background-color: var(--accent-color); color: white; border: none; cursor: pointer; border-radius: 3px; padding: 5px 10px; }
    .remove-btn { background-color: #c13a3a; }
    .form-actions { display: flex; justify-content: flex-end; gap: 10px; }
    .save-btn, .restart-btn { padding: 10px 20px; border-radius: 5px; border: none; cursor: pointer; color: white; }
    .save-btn { background-color: var(--accent-color); }
    .restart-btn { background-color: #f0ad4e; }
    .input-item { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
</style>

<div class="settings-container">
    <form id="gpio-form">
        <div class="config-section">
            <h2>Servos</h2>
            <div id="servos-config"></div>
            <button type="button" id="add-servo" class="add-btn">Add Servo</button>
        </div>

        <div class="config-section">
            <h2>GPIO Outputs (Relays)</h2>
            <div id="gpios-config"></div>
            <button type="button" id="add-gpio" class="add-btn">Add GPIO</button>
        </div>

        <div class="config-section">
            <h2>GPIO Inputs</h2>
            <div id="inputs-config"></div>
        </div>

        <div class="form-actions">
            <button type="submit" class="save-btn">Save Configuration</button>
            <button type="button" id="restart-button" class="restart-btn">Save & Restart</button>
        </div>
    </form>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/gpio.js') }}"></script>
{% endblock %}